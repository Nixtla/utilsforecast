---
description: Utilities to validate input data
output-file: validation.html
title: Validation

---

------------------------------------------------------------------------

<a
href="https://github.com/Nixtla/utilsforecast/blob/main/utilsforecast/validation.py#L13"
target="_blank" style={{ float: "right", fontSize: "smaller" }}>source</a>

### validate_format

> ``` text
>  validate_format
>                   (df:Union[pandas.core.frame.DataFrame,polars.dataframe.f
>                   rame.DataFrame], id_col:str='unique_id',
>                   time_col:str='ds', target_col:str='y')
> ```

Ensure DataFrame has expected format.

|             | **Type** | **Default** | **Details**                                |
|-------------|----------|-------------|--------------------------------------------|
| df          | Union    |             | DataFrame with time series in long format. |
| id_col      | str      | unique_id   | Column that identifies each serie.         |
| time_col    | str      | ds          | Column that identifies each timestamp.     |
| target_col  | str      | y           | Column that contains the target.           |
| **Returns** | **None** |             |                                            |

```python
import datetime

import pandas as pd
from fastcore.test import test_fail

from utilsforecast.compat import POLARS_INSTALLED, pl
from utilsforecast.data import generate_series
```


```python
test_fail(lambda: validate_format(1), contains="got <class 'int'>")
constructors = [pd.DataFrame]
if POLARS_INSTALLED:
    constructors.append(pl.DataFrame)
for constructor in constructors:
    df = constructor({'unique_id': [1]})
    test_fail(lambda: validate_format(df), contains="missing: ['ds', 'y']")
    df = constructor({'unique_id': [1], 'time': ['x'], 'y': [1]})
    test_fail(lambda: validate_format(df, time_col='time'), contains="('time') should have either timestamps or integers")
    for time in [1, datetime.datetime(2000, 1, 1)]:
        df = constructor({'unique_id': [1], 'ds': [time], 'sales': ['x']})
        test_fail(lambda: validate_format(df, target_col='sales'), contains="('sales') should have a numeric data type")
```

